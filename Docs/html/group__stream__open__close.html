<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Finding Pooky: Opening and Closing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="gar.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Finding Pooky
   </div>
   <div id="projectbrief">Platformer game where the Garfield</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Opening and Closing</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Functions for opening and closing streams</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpa843b580da843f32fd1721f9622af57c"></a>These functions allow you to test a stream to see if it is Opus, open it, and close it. Several flavors are provided for each of the built-in stream types, plus a more general version which takes a set of application-provided callbacks. </p>
</td></tr>
<tr class="memitem:ga54158ed1570a0062cb674115cd3699ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__open__close.html#ga54158ed1570a0062cb674115cd3699ab">op_test</a> (<a class="el" href="struct_opus_head.html">OpusHead</a> *_head, const unsigned char *_initial_data, size_t _initial_bytes)</td></tr>
<tr class="separator:ga54158ed1570a0062cb674115cd3699ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga15866bd0cd7ac77162db3b0428962e75"><td class="memItemLeft" align="right" valign="top">OP_WARN_UNUSED_RESULT OggOpusFile *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__open__close.html#ga15866bd0cd7ac77162db3b0428962e75">op_open_file</a> (const char *_path, int *_error) OP_ARG_NONNULL(1)</td></tr>
<tr class="separator:ga15866bd0cd7ac77162db3b0428962e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaffc5769a1e5977f186f77a1fb08cb248"><td class="memItemLeft" align="right" valign="top">OP_WARN_UNUSED_RESULT OggOpusFile *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__open__close.html#gaffc5769a1e5977f186f77a1fb08cb248">op_open_memory</a> (const unsigned char *_data, size_t _size, int *_error)</td></tr>
<tr class="separator:gaffc5769a1e5977f186f77a1fb08cb248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a0c2a744653a559b84a5be8f551fe8a"><td class="memItemLeft" align="right" valign="top">OP_WARN_UNUSED_RESULT OggOpusFile *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__open__close.html#ga9a0c2a744653a559b84a5be8f551fe8a">op_vopen_url</a> (const char *_url, int *_error, va_list _ap) OP_ARG_NONNULL(1)</td></tr>
<tr class="separator:ga9a0c2a744653a559b84a5be8f551fe8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace8a90b60d492f3488ee3f14a7276ddf"><td class="memItemLeft" align="right" valign="top">OP_WARN_UNUSED_RESULT OggOpusFile *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__open__close.html#gace8a90b60d492f3488ee3f14a7276ddf">op_open_url</a> (const char *_url, int *_error,...) OP_ARG_NONNULL(1)</td></tr>
<tr class="separator:gace8a90b60d492f3488ee3f14a7276ddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad183ecf5fbec5add3a5ccf1e3b1d2593"><td class="memItemLeft" align="right" valign="top">OP_WARN_UNUSED_RESULT OggOpusFile *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__open__close.html#gad183ecf5fbec5add3a5ccf1e3b1d2593">op_open_callbacks</a> (<a class="el" href="_s_d_l__opengles2__gl2ext_8h.html#ae5d8fa23ad07c48bb609509eae494c95">void</a> *_stream, const <a class="el" href="struct_opus_file_callbacks.html">OpusFileCallbacks</a> *_cb, const unsigned char *_initial_data, size_t _initial_bytes, int *_error) OP_ARG_NONNULL(2)</td></tr>
<tr class="separator:gad183ecf5fbec5add3a5ccf1e3b1d2593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b12533b35cd3ac0d273c1e0efa35b6f"><td class="memItemLeft" align="right" valign="top">OP_WARN_UNUSED_RESULT OggOpusFile *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__open__close.html#ga3b12533b35cd3ac0d273c1e0efa35b6f">op_test_file</a> (const char *_path, int *_error) OP_ARG_NONNULL(1)</td></tr>
<tr class="separator:ga3b12533b35cd3ac0d273c1e0efa35b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae093e19e16871f4cb53532fe1f0c1039"><td class="memItemLeft" align="right" valign="top">OP_WARN_UNUSED_RESULT OggOpusFile *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__open__close.html#gae093e19e16871f4cb53532fe1f0c1039">op_test_memory</a> (const unsigned char *_data, size_t _size, int *_error)</td></tr>
<tr class="separator:gae093e19e16871f4cb53532fe1f0c1039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93b438960ec52e13e7c77446f754d016"><td class="memItemLeft" align="right" valign="top">OP_WARN_UNUSED_RESULT OggOpusFile *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__open__close.html#ga93b438960ec52e13e7c77446f754d016">op_vtest_url</a> (const char *_url, int *_error, va_list _ap) OP_ARG_NONNULL(1)</td></tr>
<tr class="separator:ga93b438960ec52e13e7c77446f754d016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8272aa50f50ac63b20333f0a114bb247"><td class="memItemLeft" align="right" valign="top">OP_WARN_UNUSED_RESULT OggOpusFile *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__open__close.html#ga8272aa50f50ac63b20333f0a114bb247">op_test_url</a> (const char *_url, int *_error,...) OP_ARG_NONNULL(1)</td></tr>
<tr class="separator:ga8272aa50f50ac63b20333f0a114bb247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga242081c67e45417e01b82e37fc4e24ea"><td class="memItemLeft" align="right" valign="top">OP_WARN_UNUSED_RESULT OggOpusFile *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__open__close.html#ga242081c67e45417e01b82e37fc4e24ea">op_test_callbacks</a> (<a class="el" href="_s_d_l__opengles2__gl2ext_8h.html#ae5d8fa23ad07c48bb609509eae494c95">void</a> *_stream, const <a class="el" href="struct_opus_file_callbacks.html">OpusFileCallbacks</a> *_cb, const unsigned char *_initial_data, size_t _initial_bytes, int *_error) OP_ARG_NONNULL(2)</td></tr>
<tr class="separator:ga242081c67e45417e01b82e37fc4e24ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b7f1c778ce6ced5538ce66e292d894d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__open__close.html#ga7b7f1c778ce6ced5538ce66e292d894d">op_test_open</a> (OggOpusFile *_of) OP_ARG_NONNULL(1)</td></tr>
<tr class="separator:ga7b7f1c778ce6ced5538ce66e292d894d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf494ef9aa761647d8167c49507560d1c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_s_d_l__opengles2__gl2ext_8h.html#ae5d8fa23ad07c48bb609509eae494c95">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__open__close.html#gaf494ef9aa761647d8167c49507560d1c">op_free</a> (OggOpusFile *_of)</td></tr>
<tr class="separator:gaf494ef9aa761647d8167c49507560d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf494ef9aa761647d8167c49507560d1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf494ef9aa761647d8167c49507560d1c">&#9670;&nbsp;</a></span>op_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_s_d_l__opengles2__gl2ext_8h.html#ae5d8fa23ad07c48bb609509eae494c95">void</a> op_free </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release all memory used by an <code>OggOpusFile</code>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> to free. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad183ecf5fbec5add3a5ccf1e3b1d2593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad183ecf5fbec5add3a5ccf1e3b1d2593">&#9670;&nbsp;</a></span>op_open_callbacks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OP_WARN_UNUSED_RESULT OggOpusFile* op_open_callbacks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_s_d_l__opengles2__gl2ext_8h.html#ae5d8fa23ad07c48bb609509eae494c95">void</a> *&#160;</td>
          <td class="paramname"><em>_stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_opus_file_callbacks.html">OpusFileCallbacks</a> *&#160;</td>
          <td class="paramname"><em>_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>_initial_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>_initial_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>_error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a stream using the given set of callbacks to access it. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">_stream</td><td>The stream to read from (e.g., a <code>FILE *</code>). This value will be passed verbatim as the first argument to all of the callbacks. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_cb</td><td>The callbacks with which to access the stream. <code><a href="#op_read_func">read()</a></code> must be implemented. <code><a href="#op_seek_func">seek()</a></code> and <code><a href="#op_tell_func">tell()</a></code> may be <code>NULL</code>, or may always return -1 to indicate a stream is unseekable, but if <code><a href="#op_seek_func">seek()</a></code> is implemented and succeeds on a particular stream, then <code><a href="#op_tell_func">tell()</a></code> must also. <code><a href="#op_close_func">close()</a></code> may be <code>NULL</code>, but if it is not, it will be called when the <code>OggOpusFile</code> is destroyed by <a class="el" href="group__stream__open__close.html#gaf494ef9aa761647d8167c49507560d1c">op_free()</a>. It will not be called if <a class="el" href="group__stream__open__close.html#gad183ecf5fbec5add3a5ccf1e3b1d2593">op_open_callbacks()</a> fails with an error. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_initial_data</td><td>An initial buffer of data from the start of the stream. Applications can read some number of bytes from the start of the stream to help identify this as an Opus stream, and then provide them here to allow the stream to be opened, even if it is unseekable. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_initial_bytes</td><td>The number of bytes in <em>_initial_data</em>. If the stream is seekable, its current position (as reported by <code><a href="#opus_tell_func">tell()</a></code> at the start of this function) must be equal to <em>_initial_bytes</em>. Otherwise, seeking to absolute positions will generate inconsistent results. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_error</td><td>Returns 0 on success, or a failure code on error. You may pass in <code>NULL</code> if you don't want the failure code. The failure code will be one of <dl>
<dt><a class="el" href="group__error__codes.html#ga3ad48a4f99b1bed72acec552296dfc08">OP_EREAD</a> </dt>
<dd>An underlying read, seek, or tell operation failed when it should have succeeded, or we failed to find data in the stream we had seen before. </dd>
<dt><a class="el" href="group__error__codes.html#ga2ddb887c0bb55c74ea6be391fabcba59">OP_EFAULT</a> </dt>
<dd>There was a memory allocation failure, or an internal library error. </dd>
<dt><a class="el" href="group__error__codes.html#gaeea27378f826033ca23584d8403665d3">OP_EIMPL</a> </dt>
<dd>The stream used a feature that is not implemented, such as an unsupported channel family. </dd>
<dt><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6">OP_EINVAL</a> </dt>
<dd><code><a href="#op_seek_func">seek()</a></code> was implemented and succeeded on this source, but <code><a href="#op_tell_func">tell()</a></code> did not, or the starting position indicator was not equal to <em>_initial_bytes</em>. </dd>
<dt><a class="el" href="group__error__codes.html#gafca3ae244d24e10b2851c77379453220">OP_ENOTFORMAT</a> </dt>
<dd>The stream contained a link that did not have any logical Opus streams in it. </dd>
<dt><a class="el" href="group__error__codes.html#ga534f1b45c8733a2928434e482b38869f">OP_EBADHEADER</a> </dt>
<dd>A required header packet was not properly formatted, contained illegal values, or was missing altogether. </dd>
<dt><a class="el" href="group__error__codes.html#gaa9ae4494f623f3c0609f0b4bd99b8f32">OP_EVERSION</a> </dt>
<dd>An ID header contained an unrecognized version number. </dd>
<dt><a class="el" href="group__error__codes.html#gaf7b58a439a471366e9eb5b8f2a8cd041">OP_EBADLINK</a> </dt>
<dd>We failed to find data we had seen before after seeking. </dd>
<dt><a class="el" href="group__error__codes.html#gaf82657fc888f1dcf2e0d8f066b8a6cc7">OP_EBADTIMESTAMP</a> </dt>
<dd>The first or last timestamp in a link failed basic validity checks. </dd>
</dl>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A freshly opened <code>OggOpusFile</code>, or <code>NULL</code> on error. <code>libopusfile</code> does <em>not</em> take ownership of the stream if the call fails. The calling application is responsible for closing the stream if this call returns an error. </dd></dl>

</div>
</div>
<a id="ga15866bd0cd7ac77162db3b0428962e75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga15866bd0cd7ac77162db3b0428962e75">&#9670;&nbsp;</a></span>op_open_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OP_WARN_UNUSED_RESULT OggOpusFile* op_open_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>_error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a stream from the given file path. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">_path</td><td>The path to the file to open. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_error</td><td>Returns 0 on success, or a failure code on error. You may pass in <code>NULL</code> if you don't want the failure code. The failure code will be <a class="el" href="group__error__codes.html#ga2ddb887c0bb55c74ea6be391fabcba59">OP_EFAULT</a> if the file could not be opened, or one of the other failure codes from <a class="el" href="group__stream__open__close.html#gad183ecf5fbec5add3a5ccf1e3b1d2593">op_open_callbacks()</a> otherwise. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A freshly opened <code>OggOpusFile</code>, or <code>NULL</code> on error. </dd></dl>

</div>
</div>
<a id="gaffc5769a1e5977f186f77a1fb08cb248"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaffc5769a1e5977f186f77a1fb08cb248">&#9670;&nbsp;</a></span>op_open_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OP_WARN_UNUSED_RESULT OggOpusFile* op_open_memory </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>_error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a stream from a memory buffer. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">_data</td><td>The memory buffer to open. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_size</td><td>The number of bytes in the buffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_error</td><td>Returns 0 on success, or a failure code on error. You may pass in <code>NULL</code> if you don't want the failure code. See <a class="el" href="group__stream__open__close.html#gad183ecf5fbec5add3a5ccf1e3b1d2593">op_open_callbacks()</a> for a full list of failure codes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A freshly opened <code>OggOpusFile</code>, or <code>NULL</code> on error. </dd></dl>

</div>
</div>
<a id="gace8a90b60d492f3488ee3f14a7276ddf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gace8a90b60d492f3488ee3f14a7276ddf">&#9670;&nbsp;</a></span>op_open_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OP_WARN_UNUSED_RESULT OggOpusFile* op_open_url </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>_error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a stream from a URL. </p><dl class="section note"><dt>Note</dt><dd>If you use this function, you must link against <code>libopusurl</code>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">_url</td><td>The URL to open. Currently only the &lt;file:&gt;, &lt;http:&gt;, and &lt;https:&gt; schemes are supported. Both &lt;http:&gt; and &lt;https:&gt; may be disabled at compile time, in which case opening such URLs will always fail. Currently this only supports URIs. IRIs should be converted to UTF-8 and URL-escaped, with internationalized domain names encoded in punycode, before passing them to this function. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_error</td><td>Returns 0 on success, or a failure code on error. You may pass in <code>NULL</code> if you don't want the failure code. See <a class="el" href="group__stream__open__close.html#gad183ecf5fbec5add3a5ccf1e3b1d2593">op_open_callbacks()</a> for a full list of failure codes. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">...</td><td>The <a class="el" href="group__url__options.html">optional flags</a> to use. This is a variable-length list of options terminated with <code>NULL</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A freshly opened <code>OggOpusFile</code>, or <code>NULL</code> on error. </dd></dl>

</div>
</div>
<a id="ga54158ed1570a0062cb674115cd3699ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga54158ed1570a0062cb674115cd3699ab">&#9670;&nbsp;</a></span>op_test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int op_test </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_opus_head.html">OpusHead</a> *&#160;</td>
          <td class="paramname"><em>_head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>_initial_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>_initial_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test to see if this is an Opus stream. For good results, you will need at least 57 bytes (for a pure Opus-only stream). Something like 512 bytes will give more reliable results for multiplexed streams. This function is meant to be a quick-rejection filter. Its purpose is not to guarantee that a stream is a valid Opus stream, but to ensure that it looks enough like Opus that it isn't going to be recognized as some other format (except possibly an Opus stream that is also multiplexed with other codecs, such as video). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">_head</td><td>The parsed ID header contents. You may pass <code>NULL</code> if you do not need this information. If the function fails, the contents of this structure remain untouched. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_initial_data</td><td>An initial buffer of data from the start of the stream. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_initial_bytes</td><td>The number of bytes in <em>_initial_data</em>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the data appears to be Opus, or a negative value on error. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga4fd28e64a5cbe5e0ba163916199611a5">OP_FALSE</a></td><td>There was not enough data to tell if this was an Opus stream or not. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga2ddb887c0bb55c74ea6be391fabcba59">OP_EFAULT</a></td><td>An internal memory allocation failed. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaeea27378f826033ca23584d8403665d3">OP_EIMPL</a></td><td>The stream used a feature that is not implemented, such as an unsupported channel family. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gafca3ae244d24e10b2851c77379453220">OP_ENOTFORMAT</a></td><td>If the data did not contain a recognizable ID header for an Opus stream. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaa9ae4494f623f3c0609f0b4bd99b8f32">OP_EVERSION</a></td><td>If the version field signaled a version this library does not know how to parse. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga534f1b45c8733a2928434e482b38869f">OP_EBADHEADER</a></td><td>The ID header was not properly formatted or contained illegal values. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga242081c67e45417e01b82e37fc4e24ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga242081c67e45417e01b82e37fc4e24ea">&#9670;&nbsp;</a></span>op_test_callbacks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OP_WARN_UNUSED_RESULT OggOpusFile* op_test_callbacks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_s_d_l__opengles2__gl2ext_8h.html#ae5d8fa23ad07c48bb609509eae494c95">void</a> *&#160;</td>
          <td class="paramname"><em>_stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_opus_file_callbacks.html">OpusFileCallbacks</a> *&#160;</td>
          <td class="paramname"><em>_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>_initial_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>_initial_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>_error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Partially open a stream using the given set of callbacks to access it. This tests for Opusness and loads the headers for the first link. It does not seek (although it tests for seekability). You can query a partially open stream for the few pieces of basic information returned by <a class="el" href="group__stream__info.html#ga41992ce6f066e07609e5fe2ccd961f40">op_serialno()</a>, <a class="el" href="group__stream__info.html#ga42c829e67c0ce8359bfbfc31a45c04f4">op_channel_count()</a>, <a class="el" href="group__stream__info.html#gabae95dfa8a278a305213332e295443bb">op_head()</a>, and <a class="el" href="group__stream__info.html#ga4b9b8b62a9fb04aee64c288e106a4822">op_tags()</a> (but only for the first link). You may also determine if it is seekable via a call to <a class="el" href="group__stream__info.html#ga9272a4a6ac9e01fbc549008f5ff58b4c">op_seekable()</a>. You cannot read audio from the stream, seek, get the size or duration, get information from links other than the first one, or even get the total number of links until you finish opening the stream with <a class="el" href="group__stream__open__close.html#ga7b7f1c778ce6ced5538ce66e292d894d">op_test_open()</a>. If you do not need to do any of these things, you can dispose of it with <a class="el" href="group__stream__open__close.html#gaf494ef9aa761647d8167c49507560d1c">op_free()</a> instead.</p>
<p>This function is provided mostly to simplify porting existing code that used <code>libvorbisfile</code>. For new code, you are likely better off using <a class="el" href="group__stream__open__close.html#ga54158ed1570a0062cb674115cd3699ab">op_test()</a> instead, which is less resource-intensive, requires less data to succeed, and imposes a hard limit on the amount of data it examines (important for unseekable streams, where all such data must be buffered until you are sure of the stream type). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">_stream</td><td>The stream to read from (e.g., a <code>FILE *</code>). This value will be passed verbatim as the first argument to all of the callbacks. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_cb</td><td>The callbacks with which to access the stream. <code><a href="#op_read_func">read()</a></code> must be implemented. <code><a href="#op_seek_func">seek()</a></code> and <code><a href="#op_tell_func">tell()</a></code> may be <code>NULL</code>, or may always return -1 to indicate a stream is unseekable, but if <code><a href="#op_seek_func">seek()</a></code> is implemented and succeeds on a particular stream, then <code><a href="#op_tell_func">tell()</a></code> must also. <code><a href="#op_close_func">close()</a></code> may be <code>NULL</code>, but if it is not, it will be called when the <code>OggOpusFile</code> is destroyed by <a class="el" href="group__stream__open__close.html#gaf494ef9aa761647d8167c49507560d1c">op_free()</a>. It will not be called if <a class="el" href="group__stream__open__close.html#gad183ecf5fbec5add3a5ccf1e3b1d2593">op_open_callbacks()</a> fails with an error. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_initial_data</td><td>An initial buffer of data from the start of the stream. Applications can read some number of bytes from the start of the stream to help identify this as an Opus stream, and then provide them here to allow the stream to be tested more thoroughly, even if it is unseekable. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_initial_bytes</td><td>The number of bytes in <em>_initial_data</em>. If the stream is seekable, its current position (as reported by <code><a href="#opus_tell_func">tell()</a></code> at the start of this function) must be equal to <em>_initial_bytes</em>. Otherwise, seeking to absolute positions will generate inconsistent results. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_error</td><td>Returns 0 on success, or a failure code on error. You may pass in <code>NULL</code> if you don't want the failure code. See <a class="el" href="group__stream__open__close.html#gad183ecf5fbec5add3a5ccf1e3b1d2593">op_open_callbacks()</a> for a full list of failure codes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A partially opened <code>OggOpusFile</code>, or <code>NULL</code> on error. <code>libopusfile</code> does <em>not</em> take ownership of the stream if the call fails. The calling application is responsible for closing the stream if this call returns an error. </dd></dl>

</div>
</div>
<a id="ga3b12533b35cd3ac0d273c1e0efa35b6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3b12533b35cd3ac0d273c1e0efa35b6f">&#9670;&nbsp;</a></span>op_test_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OP_WARN_UNUSED_RESULT OggOpusFile* op_test_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>_error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Partially open a stream from the given file path. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__stream__open__close.html#ga242081c67e45417e01b82e37fc4e24ea">op_test_callbacks</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">_path</td><td>The path to the file to open. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_error</td><td>Returns 0 on success, or a failure code on error. You may pass in <code>NULL</code> if you don't want the failure code. The failure code will be <a class="el" href="group__error__codes.html#ga2ddb887c0bb55c74ea6be391fabcba59">OP_EFAULT</a> if the file could not be opened, or one of the other failure codes from <a class="el" href="group__stream__open__close.html#gad183ecf5fbec5add3a5ccf1e3b1d2593">op_open_callbacks()</a> otherwise. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A partially opened <code>OggOpusFile</code>, or <code>NULL</code> on error. </dd></dl>

</div>
</div>
<a id="gae093e19e16871f4cb53532fe1f0c1039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae093e19e16871f4cb53532fe1f0c1039">&#9670;&nbsp;</a></span>op_test_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OP_WARN_UNUSED_RESULT OggOpusFile* op_test_memory </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>_error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Partially open a stream from a memory buffer. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__stream__open__close.html#ga242081c67e45417e01b82e37fc4e24ea">op_test_callbacks</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">_data</td><td>The memory buffer to open. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_size</td><td>The number of bytes in the buffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_error</td><td>Returns 0 on success, or a failure code on error. You may pass in <code>NULL</code> if you don't want the failure code. See <a class="el" href="group__stream__open__close.html#gad183ecf5fbec5add3a5ccf1e3b1d2593">op_open_callbacks()</a> for a full list of failure codes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A partially opened <code>OggOpusFile</code>, or <code>NULL</code> on error. </dd></dl>

</div>
</div>
<a id="ga7b7f1c778ce6ced5538ce66e292d894d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7b7f1c778ce6ced5538ce66e292d894d">&#9670;&nbsp;</a></span>op_test_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int op_test_open </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finish opening a stream partially opened with <a class="el" href="group__stream__open__close.html#ga242081c67e45417e01b82e37fc4e24ea">op_test_callbacks()</a> or one of the associated convenience functions. If this function fails, you are still responsible for freeing the <code>OggOpusFile</code> with <a class="el" href="group__stream__open__close.html#gaf494ef9aa761647d8167c49507560d1c">op_free()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> to finish opening. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, or a negative value on error. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga3ad48a4f99b1bed72acec552296dfc08">OP_EREAD</a></td><td>An underlying read, seek, or tell operation failed when it should have succeeded. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga2ddb887c0bb55c74ea6be391fabcba59">OP_EFAULT</a></td><td>There was a memory allocation failure, or an internal library error. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaeea27378f826033ca23584d8403665d3">OP_EIMPL</a></td><td>The stream used a feature that is not implemented, such as an unsupported channel family. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6">OP_EINVAL</a></td><td>The stream was not partially opened with <a class="el" href="group__stream__open__close.html#ga242081c67e45417e01b82e37fc4e24ea">op_test_callbacks()</a> or one of the associated convenience functions. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gafca3ae244d24e10b2851c77379453220">OP_ENOTFORMAT</a></td><td>The stream contained a link that did not have any logical Opus streams in it. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga534f1b45c8733a2928434e482b38869f">OP_EBADHEADER</a></td><td>A required header packet was not properly formatted, contained illegal values, or was missing altogether. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaa9ae4494f623f3c0609f0b4bd99b8f32">OP_EVERSION</a></td><td>An ID header contained an unrecognized version number. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaf7b58a439a471366e9eb5b8f2a8cd041">OP_EBADLINK</a></td><td>We failed to find data we had seen before after seeking. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaf82657fc888f1dcf2e0d8f066b8a6cc7">OP_EBADTIMESTAMP</a></td><td>The first or last timestamp in a link failed basic validity checks. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8272aa50f50ac63b20333f0a114bb247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8272aa50f50ac63b20333f0a114bb247">&#9670;&nbsp;</a></span>op_test_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OP_WARN_UNUSED_RESULT OggOpusFile* op_test_url </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>_error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Partially open a stream from a URL. </p><dl class="section note"><dt>Note</dt><dd>If you use this function, you must link against <code>libopusurl</code>. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__stream__open__close.html#ga242081c67e45417e01b82e37fc4e24ea">op_test_callbacks</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">_url</td><td>The URL to open. Currently only the &lt;file:&gt;, &lt;http:&gt;, and &lt;https:&gt; schemes are supported. Both &lt;http:&gt; and &lt;https:&gt; may be disabled at compile time, in which case opening such URLs will always fail. Currently this only supports URIs. IRIs should be converted to UTF-8 and URL-escaped, with internationalized domain names encoded in punycode, before passing them to this function. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_error</td><td>Returns 0 on success, or a failure code on error. You may pass in <code>NULL</code> if you don't want the failure code. See <a class="el" href="group__stream__open__close.html#gad183ecf5fbec5add3a5ccf1e3b1d2593">op_open_callbacks()</a> for a full list of failure codes. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">...</td><td>The <a class="el" href="group__url__options.html">optional flags</a> to use. This is a variable-length list of options terminated with <code>NULL</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A partially opened <code>OggOpusFile</code>, or <code>NULL</code> on error. </dd></dl>

</div>
</div>
<a id="ga9a0c2a744653a559b84a5be8f551fe8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a0c2a744653a559b84a5be8f551fe8a">&#9670;&nbsp;</a></span>op_vopen_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OP_WARN_UNUSED_RESULT OggOpusFile* op_vopen_url </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>_error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>_ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a stream from a URL. This function behaves identically to <a class="el" href="group__stream__open__close.html#gace8a90b60d492f3488ee3f14a7276ddf">op_open_url()</a>, except that it takes a va_list instead of a variable number of arguments. It does not call the <code>va_end</code> macro, and because it invokes the <code>va_arg</code> macro, the value of <em>_ap</em> is undefined after the call. </p><dl class="section note"><dt>Note</dt><dd>If you use this function, you must link against <code>libopusurl</code>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">_url</td><td>The URL to open. Currently only the &lt;file:&gt;, &lt;http:&gt;, and &lt;https:&gt; schemes are supported. Both &lt;http:&gt; and &lt;https:&gt; may be disabled at compile time, in which case opening such URLs will always fail. Currently this only supports URIs. IRIs should be converted to UTF-8 and URL-escaped, with internationalized domain names encoded in punycode, before passing them to this function. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_error</td><td>Returns 0 on success, or a failure code on error. You may pass in <code>NULL</code> if you don't want the failure code. See <a class="el" href="group__stream__open__close.html#gad183ecf5fbec5add3a5ccf1e3b1d2593">op_open_callbacks()</a> for a full list of failure codes. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">_ap</td><td>A list of the <a class="el" href="group__url__options.html">optional flags</a> to use. This is a variable-length list of options terminated with <code>NULL</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A freshly opened <code>OggOpusFile</code>, or <code>NULL</code> on error. </dd></dl>

</div>
</div>
<a id="ga93b438960ec52e13e7c77446f754d016"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga93b438960ec52e13e7c77446f754d016">&#9670;&nbsp;</a></span>op_vtest_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OP_WARN_UNUSED_RESULT OggOpusFile* op_vtest_url </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>_error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>_ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Partially open a stream from a URL. This function behaves identically to <a class="el" href="group__stream__open__close.html#ga8272aa50f50ac63b20333f0a114bb247">op_test_url()</a>, except that it takes a va_list instead of a variable number of arguments. It does not call the <code>va_end</code> macro, and because it invokes the <code>va_arg</code> macro, the value of <em>_ap</em> is undefined after the call. </p><dl class="section note"><dt>Note</dt><dd>If you use this function, you must link against <code>libopusurl</code>. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__stream__open__close.html#ga8272aa50f50ac63b20333f0a114bb247">op_test_url</a> </dd>
<dd>
<a class="el" href="group__stream__open__close.html#ga242081c67e45417e01b82e37fc4e24ea">op_test_callbacks</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">_url</td><td>The URL to open. Currently only the &lt;file:&gt;, &lt;http:&gt;, and &lt;https:&gt; schemes are supported. Both &lt;http:&gt; and &lt;https:&gt; may be disabled at compile time, in which case opening such URLs will always fail. Currently this only supports URIs. IRIs should be converted to UTF-8 and URL-escaped, with internationalized domain names encoded in punycode, before passing them to this function. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_error</td><td>Returns 0 on success, or a failure code on error. You may pass in <code>NULL</code> if you don't want the failure code. See <a class="el" href="group__stream__open__close.html#gad183ecf5fbec5add3a5ccf1e3b1d2593">op_open_callbacks()</a> for a full list of failure codes. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">_ap</td><td>A list of the <a class="el" href="group__url__options.html">optional flags</a> to use. This is a variable-length list of options terminated with <code>NULL</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A partially opened <code>OggOpusFile</code>, or <code>NULL</code> on error. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
